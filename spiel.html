<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini-Spiel: Dino Runner ðŸ¦–</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: sans-serif; padding: 30px; background: #f9f9f9; text-align: center; }
    h1 { font-size: 2em; margin-bottom: 20px; }
    #dinoCanvas {
      background-color: #e0e0e0;
      display: block;
      margin: 20px auto;
      border: 2px solid #333;
      border-radius: 10px;
    }
    a.button {
      display: inline-block;
      padding: 10px 20px;
      background: #007acc;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 20px;
    }
    a.button:hover { background: #005a99; }
  </style>
</head>
<body>

<h1>Mini-Spiel: Dino Runner ðŸ¦–</h1>
<p>Springe Ã¼ber die Hindernisse mit Leertaste.</p>
<canvas id="dinoCanvas" width="600" height="150"></canvas>
<p><small>DrÃ¼cke Leertaste zum Springen!</small></p>
<a href="index.html" class="button">ZurÃ¼ck zur Startseite</a>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  const canvas = document.getElementById("dinoCanvas");
  const ctx = canvas.getContext("2d");

  let dino = { x: 50, y: 120, width: 20, height: 20, vy: 0, jumping: false };
  let gravity = 0.7;
  let obstacles = [];
  let gameOver = false;
  let score = 0;

  function spawnObstacle() {
    const size = 20;
    obstacles.push({ x: canvas.width, y: 130, width: size, height: size });
  }

  function resetGame() {
    obstacles = [];
    dino.y = 120;
    dino.vy = 0;
    dino.jumping = false;
    score = 0;
    gameOver = false;
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Dino
    ctx.fillStyle = "#333";
    ctx.fillRect(dino.x, dino.y, dino.width, dino.height);

    // Hindernisse
    ctx.fillStyle = "red";
    obstacles.forEach(obs => ctx.fillRect(obs.x, obs.y, obs.width, obs.height));

    // Bodenlinie
    ctx.strokeStyle = "#555";
    ctx.beginPath();
    ctx.moveTo(0, 150);
    ctx.lineTo(canvas.width, 150);
    ctx.stroke();

    // Punktestand
    ctx.fillStyle = "black";
    ctx.font = "16px sans-serif";
    ctx.fillText(`Score: ${score}`, 500, 20);
  }

  function update() {
    if (gameOver) return;

    dino.vy += gravity;
    dino.y += dino.vy;

    if (dino.y > 120) {
      dino.y = 120;
      dino.vy = 0;
      dino.jumping = false;
    }

    obstacles.forEach(obs => obs.x -= 5);

    // Hindernisse entfernen
    obstacles = obstacles.filter(obs => obs.x + obs.width > 0);

    // Kollision prÃ¼fen
    obstacles.forEach(obs => {
      if (dino.x < obs.x + obs.width &&
          dino.x + dino.width > obs.x &&
          dino.y < obs.y + obs.height &&
          dino.y + dino.height > obs.y) {
        gameOver = true;
        alert("Game Over! Score: " + score);
        resetGame();
      }
    });

    // Punkte erhÃ¶hen
    score++;

    draw();
    requestAnimationFrame(update);
  }

  document.addEventListener("keydown", (e) => {
    if (e.code === "Space" && !dino.jumping) {
      dino.vy = -12;
      dino.jumping = true;
    }
  });

  // Hindernisse alle 2 Sekunden spawnen
  setInterval(() => {
    if (!gameOver) spawnObstacle();
  }, 2000);

  update();
</script>

</body>
</html>
